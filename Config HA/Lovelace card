type: vertical-stack
cards:
  - type: custom:mushroom-title-card
    title: üß™ Pompe Doseuse 1
    alignment: justify
  - type: custom:mushroom-entity-card
    entity: text.pompes_doseuses_recifales_pompe_1_nom_du_produit
    name: Nom du produit
    icon: mdi:flask
    icon_color: teal
    fill_container: true
    primary_info: state
    secondary_info: name
  - type: custom:mushroom-select-card
    entity: select.pompes_doseuses_recifales_pompe_1_mode_de_distribution
    name: Mode
    icon: mdi:format-list-bulleted
    icon_color: lime
  - type: custom:mushroom-chips-card
    chips:
      - type: entity
        entity: sensor.pompes_doseuses_recifales_pompe_1_derniere_dose
        icon: mdi:wave
        icon_color: teal
      - type: template
        content: |2-
                    {% set mode = states('select.pompes_doseuses_recifales_pompe_1_mode_de_distribution') %}
                    {% set doses = [
                      states('number.pompes_doseuses_recifales_periode_1_doses')|float(0),
                      states('number.pompes_doseuses_recifales_periode_2_doses')|float(0),
                      states('number.pompes_doseuses_recifales_periode_3_doses')|float(0),
                      states('number.pompes_doseuses_recifales_periode_4_doses')|float(0),
                      states('number.pompes_doseuses_recifales_periode_5_doses')|float(0),
                      states('number.pompes_doseuses_recifales_periode_6_doses')|float(0)
                    ] %}
                    {% set total = states('sensor.pompes_doseuses_recifales_volume_quotidien_pompe_1_ml')|float(0)
                      if mode == 'Mode 4: Minuteur'
                      else (0 if mode == 'Mode 3: P√©riodes' and (doses | sum) == 0
                        else states('number.pompes_doseuses_recifales_pompe_1_volume_quotidien_ml')|float(0))
                    %}
                    {{ states('sensor.pompes_doseuses_recifales_pompe_1_volume_utilise_aujourd_hui')|float(0) }}
                    / {{ total }} ml
        icon: mdi:wave-undercurrent
        icon_color: teal
      - type: entity
        entity: sensor.pompes_doseuses_recifales_pompe_1_volume_distribue_aujourd_hui
        icon: mdi:waves
        icon_color: teal
      - type: template
        icon: |2-
                  {% set s = states('sensor.pompes_doseuses_recifales_pompe_1_statut') %}
                  {% if s == 'Distribution en cours‚Ä¶' %}
                    mdi:fan-speed-3
                  {% elif s == 'Amor√ßage en cours‚Ä¶' %}
                    mdi:fan-speed-2
                  {% elif s == 'Calibration en cours‚Ä¶' %}
                    mdi:fan-speed-1
                  {% elif s == 'R√©servoir vide' %}
                    mdi:fan-off
                  {% elif s == 'Erreur' %}
                    mdi:fan-alert
                  {% elif s == 'Interrompu' %}
                    mdi:fan-remove
                  {% else %}
                    mdi:fan
                  {% endif %}
        icon_color: |2-
                  {% set s = states('sensor.pompes_doseuses_recifales_pompe_1_statut') %}
                  {% if s == 'Distribution en cours‚Ä¶' %}
                    blue
                  {% elif s == 'Amor√ßage en cours‚Ä¶' %}
                    orange
                  {% elif s == 'Calibration en cours‚Ä¶' %}
                    yellow
                  {% elif s == 'R√©servoir vide' %}
                    red
                  {% elif s == 'Erreur' %}
                    red
                  {% elif s == 'Interrompu' %}
                    grey
                  {% else %}
                    green
                  {% endif %}
        entity: sensor.pompes_doseuses_recifales_pompe_1_statut
        content: "        {{ states('sensor.pompes_doseuses_recifales_pompe_1_statut') }}"
      - type: template
        icon: >-
          {% set signal =
          states('sensor.pompes_doseuses_recifales_force_du_signal_wifi')|float(0)
          %}
                      {% if signal >= 75 %} mdi:wifi-strength-4
                      {% elif signal >= 50 %} mdi:wifi-strength-3
                      {% elif signal >= 25 %} mdi:wifi-strength-2
                      {% elif signal > 0 %} mdi:wifi-strength-1
                      {% else %} mdi:wifi-strength-outline
                      {% endif %}
        icon_color: |2-
           {% set signal = states('sensor.pompes_doseuses_recifales_force_du_signal_wifi')|float(0) %}
                      {% if signal >= 75 %} green
                      {% elif signal >= 50 %} light-green
                      {% elif signal >= 25 %} orange
                      {% else %} red
                      {% endif %}
        content: >-
          {{ states('sensor.pompes_doseuses_recifales_force_du_signal_wifi')|int
          }}%
                    ¬∑ {{ states('sensor.pompes_doseuses_recifales_temperature_interne')|int }}¬∞C
      - type: template
        icon: |2-
                      {% set v = states('sensor.pompes_doseuses_recifales_pompe_1_volume_restant_ml')|float(0) %}
                      {% set cap = states('number.pompes_doseuses_recifales_pompe_1_capacite_reservoir_ml')|float(0) %}
                      {% set safe_cap = cap if cap > 0 else 1 %}
                      {% if v > safe_cap*5/6 %} mdi:hexagon-outline
                      {% elif v > safe_cap*4/6 %} mdi:hexagon-slice-5
                      {% elif v > safe_cap*3/6 %} mdi:hexagon-slice-4
                      {% elif v > safe_cap*2/6 %} mdi:hexagon-slice-3
                      {% elif v > safe_cap*1/6 %} mdi:hexagon-slice-2
                      {% elif v > 0 %} mdi:hexagon-slice-1
                      {% else %} mdi:hexagon-slice-6
                      {% endif %}
        icon_color: |2-
                      {% set v = states('sensor.pompes_doseuses_recifales_pompe_1_volume_restant_ml')|float(0) %}
                      {% set cap = states('number.pompes_doseuses_recifales_pompe_1_capacite_reservoir_ml')|float(0) %}
                      {% set safe_cap = cap if cap > 0 else 1 %}
                      {% if v > safe_cap*0.5 %} green
                      {% elif v > safe_cap*0.25 %} orange
                      {% else %} red
                      {% endif %}
        entity: sensor.pompes_doseuses_recifales_pompe_1_volume_restant_ml
        content: >-
          {{
          states('sensor.pompes_doseuses_recifales_pompe_1_volume_restant_ml')|int
          }}
                    ml Restants
    alignment: center
  - type: vertical-stack
    cards:
      - type: conditional
        conditions:
          - condition: state
            entity: select.pompes_doseuses_recifales_pompe_1_mode_de_distribution
            state: "Mode 3: P√©riodes"
        card:
          type: grid
          square: false
          columns: 1
          cards:
            - type: custom:mushroom-number-card
              entity: number.pompes_doseuses_recifales_pompe_1_volume_quotidien_ml
              name: Quotidien (ml)
              icon: mdi:beaker
              icon_color: green
      - type: conditional
        conditions:
          - condition: state
            entity: select.pompes_doseuses_recifales_pompe_1_mode_de_distribution
            state_not: "Mode 3: P√©riodes"
          - condition: state
            entity: select.pompes_doseuses_recifales_pompe_1_mode_de_distribution
            state_not: "Mode 4: Minuteur"
          - condition: state
            entity: select.pompes_doseuses_recifales_pompe_1_mode_de_distribution
            state_not: "Mode 0: Dose manuelle"
        card:
          type: grid
          square: false
          columns: 2
          cards:
            - type: custom:mushroom-number-card
              entity: number.pompes_doseuses_recifales_pompe_1_volume_quotidien_ml
              name: Quotidien (ml)
              icon: mdi:beaker
              icon_color: green
            - type: custom:mushroom-number-card
              entity: number.pompes_doseuses_recifales_pompe_1_offset_minute
              name: Offset min
              icon: mdi:clock-edit-outline
              icon_color: light-green
      - type: conditional
        conditions:
          - condition: state
            entity: select.pompes_doseuses_recifales_pompe_1_mode_de_distribution
            state: "Mode 0: Dose manuelle"
        card:
          type: grid
          square: false
          columns: 2
          cards:
            - type: custom:mushroom-number-card
              entity: number.pompes_doseuses_recifales_pompe_1_volume_quotidien_ml
              name: Quotidien (ml)
              icon: mdi:beaker
              icon_color: green
            - type: custom:mushroom-entity-card
              entity: button.pompes_doseuses_recifales_doser_manuellement_pompe_1
              name: Dose manuelle
              icon: mdi:plus-circle-multiple-outline
              icon_color: light-blue
  - type: custom:state-switch
    entity: select.pompes_doseuses_recifales_pompe_1_mode_de_distribution
    default: Autre
    states:
      "Mode 3: P√©riodes":
        type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            subtitle: üïí P√©riode 1
          - type: grid
            columns: 4
            square: false
            cards:
              - type: custom:mushroom-number-card
                entity: number.pompes_doseuses_recifales_periode_1_start_hour
                name: D√©but h
              - type: custom:mushroom-number-card
                entity: number.pompes_doseuses_recifales_periode_1_start_minute
                name: D√©but min
              - type: custom:mushroom-number-card
                entity: number.pompes_doseuses_recifales_periode_1_end_hour
                name: Fin h
              - type: custom:mushroom-number-card
                entity: number.pompes_doseuses_recifales_periode_1_end_minute
                name: Fin min
          - type: custom:mushroom-number-card
            entity: number.pompes_doseuses_recifales_periode_1_doses
            name: Doses P√©riode 1
            icon_color: pink
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_1_start_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_1_start_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_1_end_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_1_end_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_1_doses
                above: 0
            card:
              type: vertical-stack
              cards:
                - type: custom:mushroom-title-card
                  subtitle: üïí P√©riode 2
                - type: grid
                  columns: 4
                  square: false
                  cards:
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_2_start_hour
                      name: D√©but h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_2_start_minute
                      name: D√©but min
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_2_end_hour
                      name: Fin h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_2_end_minute
                      name: Fin min
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_periode_2_doses
                  name: Doses P√©riode 2
                  icon_color: pink
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_2_start_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_2_start_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_2_end_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_2_end_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_2_doses
                above: 0
            card:
              type: vertical-stack
              cards:
                - type: custom:mushroom-title-card
                  subtitle: üïí P√©riode 3
                - type: grid
                  columns: 4
                  square: false
                  cards:
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_3_start_hour
                      name: D√©but h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_3_start_minute
                      name: D√©but min
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_3_end_hour
                      name: Fin h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_3_end_minute
                      name: Fin min
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_periode_3_doses
                  name: Doses P√©riode 3
                  icon_color: pink
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_3_start_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_3_start_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_3_end_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_3_end_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_3_doses
                above: 0
            card:
              type: vertical-stack
              cards:
                - type: custom:mushroom-title-card
                  subtitle: üïí P√©riode 4
                - type: grid
                  columns: 4
                  square: false
                  cards:
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_4_start_hour
                      name: D√©but h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_4_start_minute
                      name: D√©but min
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_4_end_hour
                      name: Fin h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_4_end_minute
                      name: Fin min
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_periode_4_doses
                  name: Doses P√©riode 4
                  icon_color: pink
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_4_start_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_4_start_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_4_end_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_4_end_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_4_doses
                above: 0
            card:
              type: vertical-stack
              cards:
                - type: custom:mushroom-title-card
                  subtitle: üïí P√©riode 5
                - type: grid
                  columns: 4
                  square: false
                  cards:
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_5_start_hour
                      name: D√©but h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_5_start_minute
                      name: D√©but min
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_5_end_hour
                      name: Fin h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_5_end_minute
                      name: Fin min
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_periode_5_doses
                  name: Doses P√©riode 5
                  icon_color: pink
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_5_start_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_5_start_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_5_end_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_5_end_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_periode_5_doses
                above: 0
            card:
              type: vertical-stack
              cards:
                - type: custom:mushroom-title-card
                  subtitle: üïí P√©riode 6
                - type: grid
                  columns: 4
                  square: false
                  cards:
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_6_start_hour
                      name: D√©but h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_6_start_minute
                      name: D√©but min
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_6_end_hour
                      name: Fin h
                    - type: custom:mushroom-number-card
                      entity: number.pompes_doseuses_recifales_periode_6_end_minute
                      name: Fin min
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_periode_6_doses
                  name: Doses P√©riode 6
                  icon_color: pink
  - type: custom:state-switch
    entity: select.pompes_doseuses_recifales_pompe_1_mode_de_distribution
    default: Autre
    states:
      "Mode 4: Minuteur":
        type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ‚è≤Ô∏è Minuteurs programm√©s
          - type: grid
            columns: 3
            square: false
            cards:
              - type: custom:mushroom-number-card
                entity: number.pompes_doseuses_recifales_minuteur_dose_1_hour
                name: Heure 1
              - type: custom:mushroom-number-card
                entity: number.pompes_doseuses_recifales_minuteur_dose_1_minute
                name: Minute 1
              - type: custom:mushroom-number-card
                entity: number.pompes_doseuses_recifales_minuteur_dose_1_quantity_ml
                name: Qt√© (ml) 1
                icon_color: green
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_1_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_1_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_1_quantity_ml
                above: 0
            card:
              type: grid
              columns: 3
              square: false
              cards:
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_2_hour
                  name: Heure 2
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_2_minute
                  name: Minute 2
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_2_quantity_ml
                  name: Qt√© (ml) 2
                  icon_color: green
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_2_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_2_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_2_quantity_ml
                above: 0
            card:
              type: grid
              columns: 3
              square: false
              cards:
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_3_hour
                  name: Heure 3
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_3_minute
                  name: Minute 3
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_3_quantity_ml
                  name: Qt√© (ml) 3
                  icon_color: green
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_3_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_3_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_3_quantity_ml
                above: 0
            card:
              type: grid
              columns: 3
              square: false
              cards:
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_4_hour
                  name: Heure 4
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_4_minute
                  name: Minute 4
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_4_quantity_ml
                  name: Qt√© (ml) 4
                  icon_color: green
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_4_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_4_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_4_quantity_ml
                above: 0
            card:
              type: grid
              columns: 3
              square: false
              cards:
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_5_hour
                  name: Heure 5
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_5_minute
                  name: Minute 5
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_5_quantity_ml
                  name: Qt√© (ml) 5
                  icon_color: green
          - type: conditional
            conditions:
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_5_hour
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_5_minute
                above: 0
              - condition: numeric_state
                entity: number.pompes_doseuses_recifales_minuteur_dose_5_quantity_ml
                above: 0
            card:
              type: grid
              columns: 3
              square: false
              cards:
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_6_hour
                  name: Heure 6
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_6_minute
                  name: Minute 6
                - type: custom:mushroom-number-card
                  entity: number.pompes_doseuses_recifales_minuteur_dose_6_quantity_ml
                  name: Qt√© (ml) 6
                  icon_color: green
  - type: grid
    columns: 3
    square: false
    cards:
      - type: custom:mushroom-entity-card
        entity: switch.pompes_doseuses_recifales_activation_pompe_1
        name: Activer
        icon: mdi:play
        icon_color: blue
        tap_action:
          action: toggle
        hold_action:
          action: more-info
      - type: custom:mushroom-entity-card
        entity: button.pompes_doseuses_recifales_lancer_calibration_pompe_1
        name: Calibration
        icon: mdi:tune
        icon_color: yellow
        tap_action:
          action: toggle
        hold_action:
          action: more-info
      - type: custom:mushroom-entity-card
        entity: switch.pompes_doseuses_recifales_amorcer_pompe_1_priming
        name: Amorcer
        icon: mdi:water-pump
        icon_color: blue
        tap_action:
          action: toggle
        hold_action:
          action: more-info
      - type: custom:mushroom-entity-card
        icon: mdi:plus-circle-multiple-outline
        icon_color: light-blue
        tap_action:
          action: toggle
        hold_action:
          action: more-info
        entity: button.pompes_doseuses_recifales_doser_manuellement_pompe_1
        name: Dose manuelle
      - type: custom:mushroom-entity-card
        entity: button.pompes_doseuses_recifales_valider_calibration_pompe_1
        name: Valider Calib.
        icon: mdi:check
        icon_color: amber
        tap_action:
          action: toggle
        hold_action:
          action: toggle
      - type: custom:mushroom-entity-card
        entity: button.pompes_doseuses_recifales_remplir_reservoir_pompe_1
        name: Remplir r√©servoir
        icon: mdi:bottle-tonic-plus
        icon_color: light-green
        hold_action:
          action: more-info
        tap_action:
          action: toggle
      - type: custom:mushroom-select-card
        entity: select.pompes_doseuses_recifales_pompe_1_vitesse
        name: Vitesse
        icon: mdi:speedometer
        icon_color: cyan
      - type: custom:mushroom-number-card
        entity: number.pompes_doseuses_recifales_pompe_1_volume_mesure_ml
        name: Volume calibration (ml)
        icon: mdi:beaker-check
        icon_color: orange
        hold_action:
          action: more-info
      - type: custom:mushroom-number-card
        entity: number.pompes_doseuses_recifales_pompe_1_capacite_reservoir_ml
        name: Capacit√© r√©servoir (ml)
        icon: mdi:bottle-tonic
        icon_color: green
        tap_action:
          action: more-info
        hold_action:
          action: more-info
        display_mode: slider
      - type: custom:mushroom-entity-card
        entity: button.pompes_doseuses_recifales_stopper_distribution_pompe_1
        name: Stopper distribution
        icon: mdi:stop-circle
        icon_color: red
        tap_action:
          action: toggle
        hold_action:
          action: more-info
      - type: custom:mushroom-entity-card
        entity: button.pompes_doseuses_recifales_reinitialiser_historique_pompe_1
        name: R√©initialiser Historique
        icon: mdi:history
        icon_color: brown
        tap_action:
          action: toggle
        hold_action:
          action: more-info
      - type: custom:mushroom-entity-card
        entity: switch.pompes_doseuses_recifales_mode_test_simulation
        name: Test
        icon: mdi:flask-outline
        icon_color: orange
        tap_action:
          action: toggle
        hold_action:
          action: more-info
